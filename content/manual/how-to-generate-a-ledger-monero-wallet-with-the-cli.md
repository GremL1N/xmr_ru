---
title: "Как создать кошелёк Ledger Monero с помощью CLI"
categories:
  - "Руководства"
comments: false
authorbox: false
pager: true
toc: true
mathjax: true
sidebar: "right"
---

## _Для пользователей Windows​_

Прежде всего, мы должны убедиться, что все подготовлено. Подготовка включает в себя следующее:
- В этом руководстве предполагается, что вы уже инициализировали свой кошелек Ledger и, следовательно, сгенерировали мнемоническую seed фразу, содержащую 24 слова.
- Вам необходимо запустить / использовать CLI версии v0.17.2.3, который можно найти [тут](https://www.getmonero.org/downloads/#cli).
- Вам необходимо установить приложение Ledger Monero. [Здесь](https://github.com/LedgerHQ/blue-app-monero/blob/master/doc/user/bolos-app-monero.pdf) можно найти инструкцию. Также убедитесь, что для сети установлено значение Mainnet.
- Ваш Ledger должен быть подключен, и приложение Ledger Monero должно быть запущено. Daemon (monerod.exe) должен быть запущен и предпочтительно должен быть полностью синхронизирован, или же вы должны быть подключены к удаленному узлу.

Итак, теперь мы полностью подготовлены, давайте начнем!

- Зайдите в папку, где расположены файлы monerod.exe и monero-wallet-cli.exe.
- Откройте командную строку. Это можно сделать, сначала убедившись, что курсор не находится ни на одном из файлов, а затем нажав SHIFT + правая кнопка мышки. Это сочетание клавиш запускает команду "открыть командную строку в данной директории". Если Вы используете Windows 10, это даст вам возможность открыть Powershell.
- Теперь наберите:

_**Для Win 7 / 8**_
```
monero-wallet-cli.exe --generate-from-device <new-wallet-name> --subaddress-lookahead 3:200
```

_**Для Win 10**_
```
.\monero-wallet-cli.exe --generate-from-device <new-wallet-name> --subaddress-lookahead 3:200
```

Обратите внимание, что это всего навсего пример заполнения имени кошелька. Если вы, например, хотите назвать свой кошелек MoneroWallet, команда будет выглядеть следующим образом:

_**Для Win 7 / 8**_
```
monero-wallet-cli.exe --generate-from-device MoneroWallet --subaddress-lookahead 3:200
```
_**Для Win 10**_
```
.\monero-wallet-cli.exe --generate-from-device MoneroWallet --subaddress-lookahead 3:200
```
- После выполнения вышеупомянутой команды, CLI запросит ваш пароль. Убедитесь, что используете надёжный пароль.
- Ledger уточнит, хотите ли вы экспортировать ваш приватный ключ просмотра. Первым и наиболее важным является то, что ваши средства не могут быть украдены только лишь с помощью приватного ключа просмотра. Экспорт приватного ключа просмотра позволяет клиенту (на компьютере - Monero v0.12.1.0) сканировать блоки в поиске транзакций, которые принадлежат вашему кошельку / адресам. Если эта опция не используется, устройство (Ledger) будет сканировать все блоки, это займет больше времени. Есть один нюанс - в случае, если ваша система будет взломана, злоумышленник может скопировать ваш приватный ключ просмотра, что нанесет ущерб конфиденциальности. Такой вариант исключен в случае, если вы не экспортируете ваш приватный ключ просмотра.
- Вам нужно дважды нажать кнопку подтверждения, прежде чем перейти к следующему пункту.
- Теперь ваш Ledger Monero кошелек сгенерирован. Имейте ввиду, этот процесс может занять 5-10 минут.
- monero-wallet-cli начнет процесс обновления. Подождите, пока обновление полностью не завершится.
- Поздравляем, теперь вы можете использовать свой кошелек Ledger Monero совместно с CLI.

## _Для пользователей Mac OS​_

​
Прежде всего, мы должны убедиться, что все подготовлено. Подготовка включает в себя следующее:
- В этом руководстве предполагается, что вы уже инициализировали свой кошелек Ledger и, следовательно, сгенерировали мнемоническую seed фразу, содержащую 24 слова.
- Вам необходимо запустить / использовать CLI версии v0.12.2.0, который можно найти тут.
- Вам необходимо установить приложение Ledger Monero. Здесь можно найти инструкцию (пункты 3.1.1 и 3.2.2 в разделе). Также убедитесь, что для сети установлено значение Mainnet.
- Имейте ввиду, что инструкции для конфигурации системы (пункт 3.2.2) на Mac OS X довольно сложны и могут казаться слегка запутанными. К счастью, tficharmers сделал инструкцию, она находится тут. Следуйте указаниям, содержащимся в ней.
- Ваш Ledger должен быть подключен, и приложение Ledger Monero должно быть запущено. Daemon (monerod.exe) должен быть запущен и предпочтительно должен быть полностью синхронизирован, или же вы должны быть подключены к удаленному узлу.

Итак, теперь мы полностью подготовлены, давайте начнем!

- Зайдите в папку, где расположены файлы monerod.exe и monero-wallet-cli.exe.
- Перейдите на ваш рабочий стол.
- Откройте окно терминала (если не знаете, как открыть новый терминал, смотрите инструкцию тут).
- Перетащите monero-wallet-cli в терминал. Это должно добавить полный путь к исполняемому файлу. Не нажимайте Enter.
- Теперь наберите:
```
--generate-from-device <new-wallet-name> --subaddress-lookahead 3:200
```

Обратите внимание, что это всего навсего пример заполнения имени кошелька. Если вы, например, хотите назвать свой кошелек MoneroWallet, команда будет выглядеть следующим образом:
```
--generate-from-device MoneroWallet --subaddress-lookahead 3:200
```

Обратите внимание, что вышеупомянутый текст будет добавлен к пути monero-wallet-cli. Таким образом, прежде чем вы нажмёте Enter, текст в окне терминала должен выглядеть так:
```
/full/path/to/monero-wallet-cli --generate-from-device <new-wallet-name> --restore-height 1580000 --subaddress-lookahead 3:200
```
- После выполнения вышеупомянутой команды, CLI запросит ваш пароль. Убедитесь, что используете надёжный пароль.
- Ledger уточнит, хотите ли вы экспортировать ваш приватный ключ просмотра. Первым и наиболее важным является то, что ваши средства не могут быть украдены только лишь с помощью приватного ключа просмотра. Экспорт приватного ключа просмотра позволяет клиенту (на компьютере - Monero v0.12.1.0) сканировать блоки в поиске транзакций, которые принадлежат вашему кошельку / адресам. Если эта опция не используется, устройство (Ledger) будет сканировать все блоки, это займет больше времени. Есть один нюанс - в случае, если ваша система будет взломана, злоумышленник может скопировать ваш приватный ключ просмотра, что нанесет ущерб конфиденциальности. Такой вариант исключен в случае, если вы не экспортируете ваш приватный ключ просмотра.
- Вам нужно дважды нажать кнопку подтверждения, прежде чем перейти к следующему пункту.
- Теперь ваш Ledger Monero кошелек сгенерирован. Имейте ввиду, этот процесс может занять 5-10 минут.
- monero-wallet-cli начнет процесс обновления. Подождите, пока обновление полностью не завершится.
- Поздравляем, теперь вы можете использовать свой кошелек Ledger Monero совместно с CLI.

## _Для пользователей Linux_
​
Прежде всего, мы должны убедиться, что все подготовлено. Подготовка включает в себя следующее:
- В этом руководстве предполагается, что вы уже инициализировали свой кошелек Ledger и, следовательно, сгенерировали мнемоническую seed фразу, содержащую 24 слова.
- Вам необходимо запустить / использовать CLI версии v0.12.2.0, который можно найти тут.
- Вам необходимо установить приложение Ledger Monero. Здесь можно найти инструкцию (пункты 3.1.1 и 3.2.2 в разделе). Также убедитесь, что для сети установлено значение Mainnet.
- Ваш Ledger должен быть подключен, и приложение Ledger Monero должно быть запущено. Daemon (monerod.exe) должен быть запущен и предпочтительно должен быть полностью синхронизирован, или же вы должны быть подключены к удаленному узлу.

Итак, теперь мы полностью подготовлены, давайте начнем!

- Зайдите в папку, где расположены файлы monerod.exe и monero-wallet-cli.exe.
- Откройте окно терминала
- В окне терминала наберите:
```
--generate-from-device <new-wallet-name> --subaddress-lookahead 3:200
```

Обратите внимание, что это всего навсего пример заполнения имени кошелька. Если вы, например, хотите назвать свой кошелек MoneroWallet, команда будет выглядеть следующим образом:
```
--generate-from-device MoneroWallet --subaddress-lookahead 3:200
```

- После выполнения вышеупомянутой команды, CLI запросит ваш пароль. Убедитесь, что используете надёжный пароль.
- Ledger уточнит, хотите ли вы экспортировать ваш приватный ключ просмотра. Первым и наиболее важным является то, что ваши средства не могут быть украдены только лишь с помощью приватного ключа просмотра. Экспорт приватного ключа просмотра позволяет клиенту (на компьютере - Monero v0.12.1.0) сканировать блоки в поиске транзакций, которые принадлежат вашему кошельку / адресам. Если эта опция не используется, устройство (Ledger) будет сканировать все блоки, это займет больше времени. Есть один нюанс - в случае, если ваша система будет взломана, злоумышленник может скопировать ваш приватный ключ просмотра, что нанесет ущерб конфиденциальности. Такой вариант исключен в случае, если вы не экспортируете ваш приватный ключ просмотра.
- Вам нужно дважды нажать кнопку подтверждения, прежде чем перейти к следующему пункту.
- Теперь ваш Ledger Monero кошелек сгенерирован. Имейте ввиду, этот процесс может занять 5-10 минут.
- monero-wallet-cli начнет процесс обновления. Подождите, пока обновление полностью не завершится.
- Поздравляем, теперь вы можете использовать свой кошелек Ledger Monero совместно с CLI.

## _Несколько важных замечаний​_

- Я настоятельно рекомендую сначала протестировать весь процесс. Чтобы сделать это, отправьте небольшую сумму на кошелек и затем восстановите его (с помощью вышеупомянутого руководства). Обратите внимание, что при восстановлении кошелька вы должны добавить флаг `--restore-height` к команде (с высотой блока перед вашей первой транзакцией в кошельке). Более подробную информацию о восстановлении высоты и о том, как это определить, можно найти тут.
- При использовании удаленного узла добавьте флаг `--daemon-address host: port` к команде. При желании можно вручную настроить значение `--subaddress-lookahead`. Первое значение - это количество учетных записей, а второе - количество субадресов для каждой учетной записи. Таким образом, если вы, например, хотите создать 5 аккаунтов со 100 субадресами на каждом аккаунте, используйте `--subaddress-lookahead` 5:100. Имейте в виду, что чем больше субадресов вы создадите, тем больше времени потребуется Ledger, чтобы создать ваш кошелек.
- Вы должны использовать флаг `--generate-from-device` только один раз (т. е. при создании кошелька). После этого вам следует использовать его подобно тому, как вы обычно используете CLI. Действия следующие:
- Убедитесь, что ваш Ledger подключен, а также приложение Monero запущено.
- Откройте monero-wallet-cli
- Введите имя вашего Ledger Monero кошелька.
- Введите пароль для того, чтобы открыть кошелек.

Если файлы кошелька Ledger находятся не в той же папке, что и monero-wallet-cli, вам следует открыть monero-wallet-cli с флагом `--wallet-file /path/to/wallet.keys`. Либо вы можете скопировать файлы кошелька Ledger в ту же папку, где расположен monero-wallet-cli.
