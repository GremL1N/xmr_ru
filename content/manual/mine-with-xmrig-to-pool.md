---
title: "Как начать майнинг на пуле с помощью XMRig"
categories:
  - "Руководства"
comments: false
authorbox: false
pager: true
toc: true
mathjax: true
sidebar: "right"
---

## _Подготовительные действия_

### _Выбор и создание кошелька_

Перед тем как начать, вам необходимо иметь уже сконфигурированный и готовый к работе кошелёк. Пулу нужно знать адрес вашего кошелька, чтобы он смог направлять на него платежи за майнинг. Дополнительную информацию можно найти в [Руководстве по получению Monero](Ё)

### _Резонность майнинга_

Перед тем как начать майнинг, вы должны решить, стоит ли вам вообще этим заниматься. Решение необходимо принять, исходя из ваших затрат на электроэнергию и доступного вам оборудования. Существует множество сайтов,
таких как [CryptoCompare](https://www.cryptocompare.com/mining/calculator/xmr), которые позволяют ввести значения параметров вашего майнера и на основе этих данных вычисляют возможную прибыль (или убыток) за
неделю/месяц.

### _Загрузка майнера_

Первым шагом является скачивание на ваш компьютер программного обеспечения, необходимого для майнинга.

#### - _Windows_

Разработчик XMRig предоставляет готовые двоичные файлы, которые потребуются пользователям Windows. Их можно скачать со [страницы релизов на GitHub](https://github.com/xmrig/xmrig/releases/latest).

Там вы сможете найти архив `xmrig-VERSION-msvc-win64.zip`. Скачайте этот файл и извлеките его содержимое в какое-нибудь место, например, на рабочий стол.

#### - _GNU/Linux_

Разработчик XMRig предоставляет готовые двоичные файлы для Ubuntu Bionic (18.04) и Focal (20.04). Они могут работать и с другими версиями Ubuntu, и с другими дистрибутивами, но это не гарантируется.

Эти двоичные файлы также можно скачать на [странице релизов на GitHub](https://github.com/xmrig/xmrig/releases/latest).

Прокрутите вниз до `Assets`, пока не увидите версию, подходящую для вашей операционной системы. Скачайте этот файл и извлеките его содержимое в какое-нибудь место, например, в домашнюю директорию пользователя.

#### - _Другие дистрибутивы и операционные системы_

Двоичные файлы доступны для различных дистрибутивов и операционных систем, но вы также можете собрать майнер самостоятельно, воспользовавшись разделом [документации XMrig](https://xmrig.com/docs/miner)

## _Выбор пула для начала майнинга_

Существует огромное количество пулов. Список пулов можно найти на [miningpoolstats.stream/monero](https://miningpoolstats.stream/monero).

Выбор большего пула означает, что вы будете получать более частые (но меньшие) выплаты, а выбор меньших пулов по мощности поможет обеспечить децентрализованность сети. Стоит отметить, что [майнеры не теряют свою прибыль при работе в пулах с меньшей мощностью](https://redd.it/g6uh2l).

## _Настройка майнера_

Посетите раздел [документацией](https://xmrig.com/docs/miner/config), для получения подробных инструкций по настройке майнера.

## _Начало майнинга_

Пользователи Windows могут сделать это двойным кликом по файлу xmrig.exe. Пользователям других операционных систем следует воспользоваться командой `cd` и перейти в директорию, содержащую XMRig, затем ввести `./xmrig` и дождаться ответа на команду.

Если вы видите зелёные сообщения о том, что данные были приняты, поздравляем - всё работает!

## _Диагностика и устранение неисправностей_

### _Антивирус удаляет исполняющий файл XMRig_

Некоторые антивирусы помечают XMRig как вредоносное программное обеспечение, поскольку XMRig часто устанавливается на заражённые компьютеры без согласия их владельцев в целях недобросовестного майнинга. Так как это ваш компьютер и вы настраиваете майнер для себя, можно уверенно добавить XMRig в список исключений вашего антивируса.

### _Не удаётся прочитать/настроить MSR_

В случае с некоторыми CPU XMRig пытается повысить производительность, отключая определённые функции, такие как буфер предварительной выборки команд CPU. Для этих операций требуются права администратора, поэтому
попробуйте правой кнопкой мыши кликнуть по файлу xmrig.exe и запустить его от имени администратора или же запустить `sudo ./xmrig` в других системах.

### _Алгоритм не известен_

Следует найти строку в config.json, в которой будет написано `algo: null`, и изменить текст на `algo: "rx/0"`. По умолчанию XMRig ожидает, что именно пул укажет ему, какой алгоритм использовать при майнинге.

### _Большие страницы (Huge Pages) не загружаются_

#### - _Как разрешить загрузку больших страниц в Windows_

Взято из [MSDN](https://docs.microsoft.com/en-us/sql/database-engine/configure-windows/enable-the-lock-pages-in-memory-option-windows?view=sql-server-ver15):

1. В меню Start (Запуск) выбрать Run (Запустить). В окошке Open (Открыть) набрать gpedit.msc.
2. В консоли Local Group Policy Editor (Редактор локальной групповой политики) перейти в Computer Configuration (Конфигурация компьютера), а затем в Windows Settings (Конфигурация Windows).
3. Перейти в Security Settings (Параметры безопасности), а затем в Local Policies (Локальные политики).
4. Выбрать папку User Rights Assignment (Назначение прав пользователя).
5. Политика будет отображаться в окошке подробной информации.
6. В этом окошке двойным кликом выберите Lock pages in memory (Блокировка
   страниц в памяти).
7. В диалоговом окне Local Security Setting — Lock pages in memory (Параметр локальной безопасности — Блокировка страниц в памяти) выберите Add User or Group (Добавить пользователя или группу).
8. В диалоговом окне Select Users, Service Accounts, or Groups (Выбор: «Пользователи» или «Группы») добавить пользователя, под которым вы будете запускать майнер.
9. Перезагрузите компьютер, чтобы изменения вступили в силу.

Также может понадобиться запустить майнер от имени администратора.

#### - _Как разрешить загрузку больших страниц в Linux_

Сначала необходимо остановить майнер (если он работает) и ввести следующие команды, чтобы включить возможность загрузки больших страниц, а затем запустить майнер от имени root:
```
sudo sysctl -w vm.nr_hugepages=1168
sudo ./xmrig
```
Возможно, придётся увеличить значение 1168 в зависимости от того, сколько узлов NUMA поддерживает ваш CPU.

#### - _Как разрешить загрузку больших страниц в macOS_

Большие страницы не поддерживаются macOS.

### _Баланс в статистеке майнинг пула не увеличивается_

Большинство пулов работают по схеме PPLNS (оплата за N последних шар), а это означает, что вам платят только тогда, когда майнер, находящийся в пуле, находит блок. Если пул, в котором вы занимаетесь майнингом, небольшой, то это может занять от нескольких дней до нескольких недель.

Кроме того, все вычисленные блоки должны стать достаточно «зрелыми», прежде чем за них можно будет получить вознаграждение. На это уходит еще порядка 60 блоков (примерно 2 часа).

## _Помощь и поддержка_

Активное майнинг-сообщество Monero можно найти на [/r/MoneroSupport](https://www.reddit.com/r/MoneroSupport/). Также, вы также можете присоединиться к [#monero-pools на Libera](https://web.libera.chat/?channel=#monero-pools).

## _Заключение_

* Подумайте об использовании отдельного подадреса для майнинга, чтобы ваш основной адрес нельзя было связать с различными сервисами.
* [Рассмотрите возможность использования Tor для подключения к пулу](https://xmrig.com/docs/miner/tor) (или к скрытым пулам, таким как HashVault, RespectXMR и MoneroOcean). Это позволит скрыть то, что вы занимаетесь майнингом, от вашего интернет-провайдера и не позволит самому пулу узнать, кто вы.
