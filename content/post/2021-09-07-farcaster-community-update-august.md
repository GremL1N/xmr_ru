---
title: "Farcaster: обновление за август"
date: "2020-09-07"
categories:
  - "Новости"
tags:
  - "Farcaster"
thumbnail: "img/post/2021-09-07-farcaster-community-update-august/01.jpg"  
lead: "Ниже вашему вниманию предлагается обзор новостей финансируемой сообществом рабочей группы по реализации возможности проведения атомарных свопов Bitcoin-Monero."
pager: true
toc: true
sidebar: "right"
widgets:
  - "recent"
  - "taglist"
---

## _Разработка кода​_

### _Большой второй этап близок к завершению_

Уже совсем скоро, в соответствии с предложением, внесённым в CCS, нами будет завершён большой второй этап. Данный этап охватывает примерно половину от всей работы, которую мы обязались сделать перед сообществом. Результатом реализации второго этапа станет минимальная версия всех микросервисов (равносильных маленьким демонам), формирующих узел Farcaster. Совместная работа различных микросервисов позволяет осуществлять свопы. Цитируя наше предложение в CCS: «Минимальная функциональность будет реализована по завершении второго этапа, то есть будут реализованы все компоненты, необходимые для успешного проведения атомных свопов, и это будет сделано с использованием наших библиотек, как и было предложено в рамках представленной архитектуры».

_Что дальше?_

Нам остаётся выполнить следующий и являющийся завершающим третий этап, где результаты выполнения второго этапа будут доведены до уровня минимально жизнеспособного продукта (MVP).

### _Проведение свопов_

Благодаря реализации нашей архитектуры микросервисов мы практически завершили прокладку пути «успешного» выполнения свопов, то есть пути, при прохождении которого своп успешно завершается, и ни Элис, ни Боб не прерывают его. Мириады сообщений, заставляющие плавиться наши мозги, огромный объём отладки — мы прошли всё это, но зато технический стек стал по-настоящему гибким и расширяемым. На данный момент у нас имеются следующие рабочие демоны:
- walletd (1 для всех свопов);
- swapd (1 на своп);
- peerd (1 на одноранговое соединение);
- syncerd (1 на блокчейн);
- farcasterd (1 для всех свопов).

Сейчас эти демоны функциональны примерно на 90%.

### _Синхронизаторы_

Мы завершили работу над всеми необходимыми связующими интерфейсами для обоих блокчейнов. Именно их мы и называем их синхронизаторами (syncers). Мы уже почти завершили их интеграцию в узел. В случае с Bitcoin в данный момент мы используем протокол Electrum, в то время как в случае с Monero связь поддерживается с демоном Monero и monero-wallet-rpc. Работа monero-wallet-rpc при одновременном совершении множества свопов во время тестирования была довольно медленной, поэтому теперь мы изучаем возможность использования [сервера лёгкого кошелька Monero](https://github.com/vtnerd/monero-lws) vtnerd. В отличие от monero-wallet-rpc, сервер лёгкого кошелька способен отслеживать и осуществлять сканирование в поиске транзакций одновременно по множеству отдельных ключей просмотра. Наша работа по интеграции интерфейсов monero rpc также нашла отражения в нескольких пул-реквестах [monero-rpc-rs](https://github.com/vtnerd/monero-lws) в проекте monero-ecosystem.

Кроме того, новые последние версии [monero-rs](https://github.com/monero-rs/monero-rs) и [rust-internet2](https://github.com/internet2-org/rust-internet2) включают в себя наши PR, нужные Farcaster :)

### _Farcaster Core_

farcaster-core теперь является общедоступной библиотекой, выложенной в [репозитории crates.io](https://crates.io/crates/farcaster_core). Хотите узнать больше? Ознакомьтесь с соответствующей [документацией](https://docs.rs/farcaster_core/0.1.0/farcaster_core/).

## _Перспективы​_

Когда все компоненты будут собраны вместе, мы переключим наше внимание на тестирование и рефакторинг. Наша цель состоит в разработке набора для функционального тестирования, который позволит моделировать все возможные события и пути в рамках протокола. Это снизит риск появления неожиданных сценариев, когда наш протокол свопов будет окончательно реализован :)

## _Часто задаваемые вопросы_

Возможно, вы отметили недавнее появление на Reddit множества новостей, касающихся атомных свопов Monero, а также ту шумиху, которая возникла вокруг этих новостей. Вот ответы на те вопросы, неоднократно заданные нам.

- _Готовы ли атомные свопы к использованию в реальности?_

Мы знаем, что это прозвучит не очень-то прилично, но когда подобная шумиха и ожидания не соответствуют действительности, конечные пользователи могут по-настоящему «попасть». Это совершенно новая технология, и если вы используете её на данном этапе, то это делается для того, чтобы протестировать данную технологию и помочь в устранении ошибок, а это означает, что вы потенциально жертвуете свои средства криптобогам, что должно приниматься как само собой разумеющееся, если тестирование происходит за счёт средств основной сети.

- _COMIT и Farcaster: внутренняя совместимость как залог успеха_

Мы рады видеть, как сектор развивается за счёт внутренней совместимости с технологией атомных свопов. Люди из COMIT очень технически подкованы, и мы с восхищением следим за их работой, но они НЕ являются нашими конкурентами, как считают многие. Они просто используют и продвигают наши технологии (что действительно лестно), создают программное обеспечение с открытым исходным кодом, направляя область разработки в том направлении, которое нам необходимо, и нам это очень нравится. Наши конкуренты предлагают решения, не предполагающие внутренней совместимости, и в долгосрочной перспективе, как мы считаем, это будут второсортные технологии. Но, как вам, возможно, известно, подобные технологии иногда доминируют на рынке :( И это то, с чем COMIT и Farcaster должны бороться и победить.

- _Используют ли COMIT и Farcaster разные протоколы?_

При чтении некоторых комментариев выясняется, что не всем понятно, что COMIT и Farcaster основаны на одном и том же протоколе. Буквально. Оба варианта реализации используют одну и ту же концепцию и одну и ту же структуру транзакций. COMIT действительно улучшили протокол, который был опубликован изначально, и мы искренне благодарим их за отличную работу. Но на практике основной протокол остался точно таким же и обладает одними и теми же преимуществами и ограничениями.

- _Требуется ли объединение транзакций в цепочку при проведении атомных свопов Farcaster или COMIT?_

Нет, со стороны Monero объединения транзакций в цепочку НЕ требуется..

COMIT отмечает, что провайдеры, продающие BTC за XMR, не могут обойтись без построения цепочек транзакций, поскольку в ином случае злоумышленница Алиса, покупающая BTC за XMR, сначала сможет сделать так, чтобы Боб заблокировал свои BTC, а затем та же Алиса просто не станет блокировать XMR и заставит Боба потратить деньги на уплату комиссии за проведение транзакции, чтобы вернуть свои BTC. В рамках нового протокола COMIT предлагает сначала блокировать Monero (а это требует объединения транзакций в цепочку и, таким образом, внесения кардинальных изменений со стороны Monero). Но теоретически это не решает проблему (теперь атака будет производиться в другом направлении), но на практике позволит снизить расходы, необходимые для возмещения, поскольку размер комиссий XMR меньше.

Тем не менее, существуют и другие практические способы решения этой самой проблемы. Указание репутации узла является одним из них. И хотя нам это не нравится, это практично. Атомные блокировки первого уровня (то есть, две заблокированные транзакции становятся действительными одновременно) невозможны, потому что они подразумевают риск двойной траты (в цепочке нет заблокированных денег, а следовательно, злоумышленник ничего не теряет при проведении атаки). Но атомные блокировки второго уровня реализовать вполне можно (поскольку деньги уже заблокированы в цепочке). И это может стать очень долгосрочным решением, а также, помимо прочего, потребовать объединения транзакций в Monero в цепочку.

### _В итоге, что нам даст объединение транзакций в цепочку?_

В результате новый класс протоколов будет работать с Monero. То есть, это будут именно протоколы, требующие проведения транзакций вне сети и без майнинга, которые в принципе можно считать основой протоколов второго уровня в Monero. Однако, это далеко не всё, что требуется для решения проблемы. Это лишь предварительное условие.

Это будет способствовать появлению новых протоколов атомных свопов и соответствующих платёжных каналов. Поэтому в последнее время и расширились исследования и дискуссии в этом направлении, и мы полностью поддерживаем эту тенденцию. Но, опять же, нам это пока не нужно. По крайней мере, не сейчас!

_Farcaster НЕ зависит от Taproot: Bitcoin BIPs 340, 341 и 342_

Со стороны Bitcoin не требуется никаких подписей Шнорра и Taproot. Атомный своп посредством Farcaster возможен и без них. Но протокол Шнорра позволяет добиться более высокого уровня приватности и даёт гарантии качества. И наша библиотека farcaster-core учитывает это.

Давайте кратко обсудим это.

_Технические решения, обеспечивающие поддержку различных криптографических схем_

Как вы, возможно, знаете, в настоящее время при создании своих своих подписей Bitcoin использует алгоритм ECDSA. А до конца года также начнёт использовать и схему Шнорра. Мы учли это при разработке наших библиотек и спроектировали API таким образом, чтобы при необходимости можно было легко переключаться на другую криптографическую схему.

Вот схемы, поддержку которых мы пытаемся обеспечить:
- _Схема адаптивной подписи ECDSA_. Именно эта схема на данный момент используется COMIT и Farcaster. Её проще всего реализовать, и тем не менее, она использует не прошедшие аудит экспериментальные криптографические библиотеки.
- _Схема адаптивной подписи Шнорра_. Эту схему мы хотим реализовать в ближайшее время. Это схема создания мультиподписи в блокчейне. Она лучше подходит для решения этой задачи, математически проще, и в данном случае мы в силах обеспечить постоянство временных параметров и дать гарантию других качеств, и, что наиболее важно, мы без каких-либо трудностей получим проверенный и прошедший аудит код.
- _Схема адаптивной подписи Шнорра, построенная с использованием протокола MuSig2_. MuSig2 — это протокол создания мультиподписи вне блокчейна, подобный тому, который используется Monero. Он позволяет сразу нескольким участникам совместно генерировать одну подпись, и это является нашей конечной целью.

Спасибо!

Хотите связаться с нами? Присоединяйтесь к чату #monero-swap на Libera.chat. Также мы проводим часовые встречи разработчиков каждую среду в 12pm UTC. Будем рады видеть вас!

Рабочая группа Farcaster
- [Проведение атомных свопов между блокчейнами Bitcoin и Monero (IACR)](https://eprint.iacr.org/2020/1126)
- [Проведение атомных свопов между Bitcoin и Monero (arXiv)](https://arxiv.org/abs/2101.12332)
- [Финансирование реализации атомных свопов Monero через CCS](https://ccs.getmonero.org/proposals/h4sh3d-atomic-swap-implementation.html)


---

_Источник: [Farcaster: Community update August](https://www.reddit.com/r/Monero/comments/pjqkuj/farcaster_community_update_august/)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
