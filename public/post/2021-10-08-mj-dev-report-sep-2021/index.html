<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Отчёт mj за сентябрь по разработке и интеграциям - </title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Отчёт mj за сентябрь по разработке и интеграциям" />
<meta property="og:description" content="Уважаемое сообщество!
Пишу с небольшой задержкой, поскольку во второй половине сентября у меня не было достаточно времени, чтобы посвятить его работе над Monero. Неважно, как смотреть на это, с точки зрения потраченного времени или количества созданных веток — это не было бы существенно, если бы я захотел попросить об оплате непосредственно в последний день сентября.
Я занимался обычным исправлением CI, а также провёл несколько минимальных оценочных анализов. Но я уверен, что самой яркой работой месяца станет моя обновлённая страница по отслеживанию состояния, опубликованная по этому адресу: http://cryptog." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/2021-10-08-mj-dev-report-sep-2021/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-10-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-10-08T00:00:00+00:00" />


		<meta itemprop="name" content="Отчёт mj за сентябрь по разработке и интеграциям">
<meta itemprop="description" content="Уважаемое сообщество!
Пишу с небольшой задержкой, поскольку во второй половине сентября у меня не было достаточно времени, чтобы посвятить его работе над Monero. Неважно, как смотреть на это, с точки зрения потраченного времени или количества созданных веток — это не было бы существенно, если бы я захотел попросить об оплате непосредственно в последний день сентября.
Я занимался обычным исправлением CI, а также провёл несколько минимальных оценочных анализов. Но я уверен, что самой яркой работой месяца станет моя обновлённая страница по отслеживанию состояния, опубликованная по этому адресу: http://cryptog."><meta itemprop="datePublished" content="2021-10-08T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-10-08T00:00:00+00:00" />
<meta itemprop="wordCount" content="1004">
<meta itemprop="keywords" content="CCS," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Отчёт mj за сентябрь по разработке и интеграциям"/>
<meta name="twitter:description" content="Уважаемое сообщество!
Пишу с небольшой задержкой, поскольку во второй половине сентября у меня не было достаточно времени, чтобы посвятить его работе над Monero. Неважно, как смотреть на это, с точки зрения потраченного времени или количества созданных веток — это не было бы существенно, если бы я захотел попросить об оплате непосредственно в последний день сентября.
Я занимался обычным исправлением CI, а также провёл несколько минимальных оценочных анализов. Но я уверен, что самой яркой работой месяца станет моя обновлённая страница по отслеживанию состояния, опубликованная по этому адресу: http://cryptog."/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/logo.png">
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Меню</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">Что такое Monero (XMR)?</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/news/">
				
				<span class="menu__text">Новости</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/articles/">
				
				<span class="menu__text">Статьи</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/library/">
				
				<span class="menu__text">Библиотека</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/manuals/">
				
				<span class="menu__text">Руководства и инструкции</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/services/">
				
				<span class="menu__text">Полезные ссылки и сервисы</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Отчёт mj за сентябрь по разработке и интеграциям</h1>
			<p class="post__lead">Ежемесячный отчёт mj в ключе работы над его CCS предложением.</p>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2021-10-08T00:00:00Z">2021-10-08</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/%D0%BD%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8/" rel="category">Новости</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Уважаемое сообщество!</p>
<p>Пишу с небольшой задержкой, поскольку во второй половине сентября у меня не было достаточно времени, чтобы посвятить его работе над Monero. Неважно, как смотреть на это, с точки зрения потраченного времени или количества созданных веток — это не было бы существенно, если бы я захотел попросить об оплате непосредственно в последний день сентября.</p>
<p>Я занимался обычным исправлением CI, а также провёл несколько минимальных оценочных анализов. Но я уверен, что самой яркой работой месяца станет моя обновлённая страница по отслеживанию состояния, опубликованная по этому адресу: <a href="http://cryptog.hopto.org/monero/health">http://cryptog.hopto.org/monero/health</a>. Я потратил какое-то время на добавление отсутствующих точек данных, чистку данных в тех местах, где что-то шло не так, как запланировано. В результате были получены более значимые кривые. Мною также был изменён скрипт строк кода (LOC), и теперь отображается количество строк заголовка относительно исходных строк. Чем меньше отношение, тем короче (пере)компиляция, а также объём памяти, необходимый для компиляции. Последнее очень важно для SoC устройств с небольшим объёмом RAM. Это связано с моей работой с пользователями RPi, пожелавшим скомпилировать Monero для своей любимой платформы.</p>
<p>Было также интересно наблюдать, как размер файла образа дерева зависимостей, даже несмотря на то, что это просто приблизительная величина сложности, демонстрирует стабильный рост (чем ближе вправо, тем старше состояние). Было бы полезно неким образом почистить последовательности, даже несмотря на то, что это не так важно, как другие результаты моих исследований:</p>
<p><img src="/img/post/2021-10-08-mj-dev-report-sep-2021/1.jpg" alt="image"></p>
<p>А теперь, пожалуйста, взгляните на два приведённых ниже графика применения инструментов: LOC и заголовки служат двумя вводными и должны повлиять на время компиляции и объём необходимой памяти (на два результата). Рефакторинг заголовков всегда будет приводить к снижению вводных графиков. А значит, самые «медленные» заголовки, если они будут правильными, согласно отчёту CBTA, будут подвергнуты рефакторингу, и теоретически время компиляции и объём необходимой памяти снизятся. Вот вводные графики:</p>
<p><img src="/img/post/2021-10-08-mj-dev-report-sep-2021/2.jpg" alt="image"></p>
<p><img src="/img/post/2021-10-08-mj-dev-report-sep-2021/3.jpg" alt="image"></p>
<p>а ниже представлены результаты: время сборки и объём потребляемой памяти, наложенные поверх друг друга, чтобы проще было увидеть корреляцию с вводными графиками:</p>
<p><img src="/img/post/2021-10-08-mj-dev-report-sep-2021/4.jpg" alt="image"></p>
<p><img src="/img/post/2021-10-08-mj-dev-report-sep-2021/5.jpg" alt="image"></p>
<p>Как видно, практически* как только я начал производить рефакторинг заголовков, оба показателя начали снижаться (практически*, потому что у меня не было доступа к отчёту CBTA с самого начала). Но затем снова, поскольку соответствующие ветви перестали объединяться, в результатах можно наблюдать не только стагнацию, но даже регрессию, что коррелирует с регрессией вводных. У меня по-прежнему имеются открытые ветви (<a href="https://github.com/monero-project/monero/pull/6934">6934</a> и <a href="https://github.com/monero-project/monero/pull/6932">6932</a>), ожидающие анализа и слияния. И даже несмотря на то, что задача, связанная с анализом, не представляется относительно сложной, такой вид улучшений, к сожалению, в данном случае откладывается. Со своей стороны я бы мог предложить ещё много таких улучшений, но в данный момент это только переполнит список ветвей. И поэтому я не стану открывать их до тех пор, пока не произойдёт слияния двух указанных выше ветвей.</p>
<p>Есть ещё пара вещей, которых следует коснуться, когда речь заходит о графике памяти. Существует две пары последовательностей: одна касается выходного кода с тестированием, а другая — без тестирования. Поскольку ограничения, связанные с объёмом памяти, как правило, сильнее ударяют по пользователям SoC, их будет больше волновать выходной код и определённо не тесты, так как они не захотят, чтобы их машины использовались для разработки, что ведёт к разделению. Видно, что тестирование подразумевает наличие более высоких требований, и сам по себе выходной код не сильно отстаёт в этом плане. Если взглянуть на максимальный показатель потребления RAM (который, по сути, является средним показателем для 4 самых больших файлов — см. <a href="http://cryptog.hopto.org/monero/health/data/6b824c9ed/6b824c9ed-mem-usage-prod.txt">здесь</a>), видно, что объём по-прежнему настолько велик, что уже компиляция кода на одном ядре (из 4 файлов) 2 Гб Rpi4 приведёт к некоторой задержке в подкачке. Другие пользователи подтвердили на IRC, что компиляция может «подвесить» их операционные системы, если при этом использовать все ядра. Я также добавил средний показатель потребления RAM, поэтому любая оптимизация RAM будет отражаться, по крайней мере, на графике среднего потребления, если оптимизация не будет влиять на любой из 4 самых больших файлов.</p>
<h2 id="_ветки_"><em>Ветки</em></h2>
<p>Ниже приводится обычное краткое описание объединённых и новых ветвей.</p>
<h3 id="_новые-ветки_"><em>Новые Ветки</em></h3>
<ul>
<li>Rpi4: <a href="https://github.com/monero-project/monero/pull/7953">целевая версия rpi для NO_AES rpi4-64bit</a>. @ArqTras были проведены некоторые исследования по возможности компиляции Monero для RPi с 64-битной операционной системой. После анализа и тестирования мне пришлось открыть собственный запрос PR, чтобы избежать некоторых вопросов этого автора.</li>
<li>Rpi4: <a href="https://github.com/monero-project/monero/pull/7979">распределение двоичных файлов без использования AES в случае с 64-битными операционными системами</a>. Рабочая концепция компиляции вышеуказанного варианта на нашем CI и попытка распределить вариант любых других официально поддерживаемых выполняемых файлов. После довольно долгого обсуждения @hyc предложил создать специализированную 64-битную проверку RPi (для AES), которая бы делала эти действия избыточными. Я полностью согласен с тем, что в текущих обстоятельствах это было бы хорошим решением.</li>
<li>Документация: <a href="https://github.com/monero-project/monero/pull/7954">построение gtest на базе Debian и Ubuntu</a>. Обновление документации от @ralphmapper, а также её редакция и внесение исправлений мной. Мне пришлось открыть собственный PR точно по тем же причинам, что и в случае с первой ветвью.</li>
<li>CI: <a href="https://github.com/monero-project/monero/pull/7928">переменные общие настройки ccache и чистка apt</a>. Существовал набор настроек ccache, задаваемых посредством env vars и командной строки. Данный PR унифицирует эти настройки и позволяет повторно использовать их в качестве переменной. Также проведена небольшая чистка настроек apt.</li>
<li>CMake: Добавление отсутствовавшей опции SANITIZE. Пытаясь помочь @selsta с воспроизведением ошибки памяти, я заметил, что опция SANITIZE не появляется во внешнем пользовательском интерфейсе CMake, как ccmake или cmake-qt. К сожалению, мне не удалось воспроизвести оригинальную ошибку. Возможно, это была специфичная для Mac ошибка.</li>
</ul>
<h2 id="_обновления_"><em>Обновления</em></h2>
<ul>
<li>Ledger: <a href="https://github.com/monero-project/monero/pull/7876">членский &lsquo;режим&rsquo; заслонял режим базового класса</a>. Мною был проведён надлежащий статистический анализ, который позволил понять, не приведёт ли моя «чистка» к каким-либо побочным эффектам, а также подготовлен PR для публичного ознакомления.</li>
</ul>
<h3 id="_заключительные-слова-по-данному-периоду_"><em>Заключительные слова по данному периоду</em></h3>
<p>Мне хотелось бы поблагодарить всех за отзывы, сотрудничество и финансирование. Как было написано в самом начале, мне придётся продлить рабочий период по причинам, связанным с реальной жизнью. Они завершены только наполовину, поэтому мне придётся сделать перерыв в этом месяце и в ноябре, и я искренне надеюсь снова полноценно заняться работой, начиная с декабря. До тех пор я буду выполнять свои обязанности и поддерживать свои ветви, отвечая рецензентам и постоянно публикуя отчёты о собственном здоровье. Последнее более не потребует от меня особых усилий после той работы, которая была мной проделана в этом отношении, и я буду делать (что?), пока у вас не будет особых возражений :) Спасибо за всё,</p>
<p>mj</p>
<hr>
<p><em>Источник: <a href="https://www.reddit.com/r/Monero/comments/q41sce/dev_report_sep_2021/">Dev report Sep. 2021</a></em></p>
<p><em>Перевод: <a href="https://t.me/v1docq47">Mr. Pickles</a></em><br>
<em>Коррекция: <a href="https://t.me/Kukima">Kukima</a></em></p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/ccs/" rel="tag">CCS</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/2021-10-05-p2pool-released/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Назад</span>
			<p class="pager__title">P2Pool Monero ЗАРАБОТАЛ!</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/2021-11-29-mj-dev-report-nov-2021/" rel="next">
			<span class="pager__subtitle">Вперед&thinsp;»</span>
			<p class="pager__title">Отчёт mj за ноябрь по разработке и интеграциям</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Недавние публикации</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/2021-12-06-vulnerability-multisig/">В коде multisig-кошелька Monero обнаружена ошибка</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2021-12-04-monero-gui-0.17.3.0-released/">Доработанная версия Monero GUI 0.17.3.0 Oxygen Orion</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2021-12-04-monero-0.17.3.0-released/">Доработанная промежуточная версия Monero 0.17.3.0 Oxygen Orion</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2021-11-19-kraken-delist-monero-for-uk-customers/">Kraken планирует исключить Monero из списка поддерживаемых в Великобритании валют уже к концу ноября</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2021-11-05-p2pool-1.3.1-released/">Релиз P2Pool v1.3.1</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Теги</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/breaking-monero/" title="Breaking Monero">Breaking Monero</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cake-wallet/" title="Cake Wallet">Cake Wallet</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ccs/" title="CCS">CCS</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cdc-36c3/" title="CDC 36c3">CDC 36c3</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ciphertrace/" title="CipherTrace">CipherTrace</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/def-con-2021/" title="DEF CON 2021">DEF CON 2021</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/farcaster/" title="Farcaster">Farcaster</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/feather-wallet/" title="Feather Wallet">Feather Wallet</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/haveno/" title="Haveno">Haveno</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/konferenco/" title="Konferenco">Konferenco</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/monero-gui/" title="Monero GUI">Monero GUI</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/monero-outreach/" title="Monero Outreach">Monero Outreach</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/monerujo/" title="Monerujo">Monerujo</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/mpwg/" title="MPWG">MPWG</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/p2pool/" title="P2Pool">P2Pool</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%B0%D1%82%D0%BE%D0%BC%D0%B0%D1%80%D0%BD%D1%8B%D0%B5-%D1%81%D0%B2%D0%BE%D0%BF%D1%8B/" title="Атомарные свопы">Атомарные свопы</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%B2%D0%B7%D0%BB%D0%BE%D0%BC/" title="Взлом">Взлом</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%B2%D0%B8%D1%80%D1%83%D1%81/" title="Вирус">Вирус</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB-%D0%B2%D1%81%D1%82%D1%80%D0%B5%D1%87%D0%B8/" title="Журнал встречи">Журнал встречи</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%BD%D0%B0%D1%83%D1%87%D0%BD%D0%BE-%D1%84%D0%B0%D0%BD%D1%82%D0%B0%D1%81%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9-%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B7/" title="Научно-фантастический рассказ">Научно-фантастический рассказ</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0/" title="Ошибка">Ошибка</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 .
			<span class="footer__copyright-credits">Информационно-новостной сайт русскоязычного сообщества Monero. <a href="/services/#_поддержать-xmrru_" rel="nofollow noopener" target="_blank">Пожертвовать</a>  на развитие проекта XMR.RU.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>